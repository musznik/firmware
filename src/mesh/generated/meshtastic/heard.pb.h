/* Automatically generated nanopb header */
/* Generated by nanopb-0.4.9 */

#ifndef PB_MESHTASTIC_MESHTASTIC_HEARD_PB_H_INCLUDED
#define PB_MESHTASTIC_MESHTASTIC_HEARD_PB_H_INCLUDED
#include <pb.h>

#if PB_PROTO_HEADER_VERSION != 40
#error Regenerate this file with the current version of nanopb generator.
#endif

/* Struct definitions */
typedef struct _meshtastic_HeardReport {
    /* Original broadcast identifiers */
    uint32_t original_source;
    uint32_t original_packet_id;
    /* Receiver info */
    uint32_t receiver;
    uint32_t hop_count;
    /* Link metrics at receiver */
    int32_t rx_rssi; /* dBm */
    int32_t rx_snr_q4; /* SNR * 4 (Q4 fixed point) */
    /* Local receive time (millis since boot or local epoch) */
    uint32_t rx_ms;
} meshtastic_HeardReport;

typedef struct _meshtastic_HeardAggregate {
    /* Original broadcast identifiers */
    uint32_t original_source;
    uint32_t original_packet_id;
    /* Aggregated reports (deduplicated by receiver) */
    pb_callback_t reports;
} meshtastic_HeardAggregate;

/* fw+ Assist control: local/regional throttle parameters for assisting a broadcast */
typedef struct _meshtastic_HeardAssist {
    /* Reference to the original broadcast */
    uint32_t assist_ref_packet_id;
    /* Election percent per ring (1..7), values 0..100; index 0 ignored */
    pb_callback_t percent_per_ring;
    /* Jitter parameters: tx_after = jitter_base_ms + ring * jitter_slope_ms + rand(small) */
    uint32_t jitter_base_ms;
    uint32_t jitter_slope_ms;
    /* Only apply throttle for rings >= scope_min_ring */
    uint32_t scope_min_ring;
} meshtastic_HeardAssist;


#ifdef __cplusplus
extern "C" {
#endif

/* Initializer values for message structs */
#define meshtastic_HeardReport_init_default      {0, 0, 0, 0, 0, 0, 0}
#define meshtastic_HeardAggregate_init_default   {0, 0, {{NULL}, NULL}}
#define meshtastic_HeardAssist_init_default      {0, {{NULL}, NULL}, 0, 0, 0}
#define meshtastic_HeardReport_init_zero         {0, 0, 0, 0, 0, 0, 0}
#define meshtastic_HeardAggregate_init_zero      {0, 0, {{NULL}, NULL}}
#define meshtastic_HeardAssist_init_zero         {0, {{NULL}, NULL}, 0, 0, 0}

/* Field tags (for use in manual encoding/decoding) */
#define meshtastic_HeardReport_original_source_tag 1
#define meshtastic_HeardReport_original_packet_id_tag 2
#define meshtastic_HeardReport_receiver_tag      3
#define meshtastic_HeardReport_hop_count_tag     4
#define meshtastic_HeardReport_rx_rssi_tag       5
#define meshtastic_HeardReport_rx_snr_q4_tag     6
#define meshtastic_HeardReport_rx_ms_tag         7
#define meshtastic_HeardAggregate_original_source_tag 1
#define meshtastic_HeardAggregate_original_packet_id_tag 2
#define meshtastic_HeardAggregate_reports_tag    3
#define meshtastic_HeardAssist_assist_ref_packet_id_tag 1
#define meshtastic_HeardAssist_percent_per_ring_tag 2
#define meshtastic_HeardAssist_jitter_base_ms_tag 3
#define meshtastic_HeardAssist_jitter_slope_ms_tag 4
#define meshtastic_HeardAssist_scope_min_ring_tag 5

/* Struct field encoding specification for nanopb */
#define meshtastic_HeardReport_FIELDLIST(X, a) \
X(a, STATIC,   SINGULAR, UINT32,   original_source,   1) \
X(a, STATIC,   SINGULAR, UINT32,   original_packet_id,   2) \
X(a, STATIC,   SINGULAR, UINT32,   receiver,          3) \
X(a, STATIC,   SINGULAR, UINT32,   hop_count,         4) \
X(a, STATIC,   SINGULAR, INT32,    rx_rssi,           5) \
X(a, STATIC,   SINGULAR, INT32,    rx_snr_q4,         6) \
X(a, STATIC,   SINGULAR, UINT32,   rx_ms,             7)
#define meshtastic_HeardReport_CALLBACK NULL
#define meshtastic_HeardReport_DEFAULT NULL

#define meshtastic_HeardAggregate_FIELDLIST(X, a) \
X(a, STATIC,   SINGULAR, UINT32,   original_source,   1) \
X(a, STATIC,   SINGULAR, UINT32,   original_packet_id,   2) \
X(a, CALLBACK, REPEATED, MESSAGE,  reports,           3)
#define meshtastic_HeardAggregate_CALLBACK pb_default_field_callback
#define meshtastic_HeardAggregate_DEFAULT NULL
#define meshtastic_HeardAggregate_reports_MSGTYPE meshtastic_HeardReport

#define meshtastic_HeardAssist_FIELDLIST(X, a) \
X(a, STATIC,   SINGULAR, UINT32,   assist_ref_packet_id,   1) \
X(a, CALLBACK, REPEATED, UINT32,   percent_per_ring,   2) \
X(a, STATIC,   SINGULAR, UINT32,   jitter_base_ms,    3) \
X(a, STATIC,   SINGULAR, UINT32,   jitter_slope_ms,   4) \
X(a, STATIC,   SINGULAR, UINT32,   scope_min_ring,    5)
#define meshtastic_HeardAssist_CALLBACK pb_default_field_callback
#define meshtastic_HeardAssist_DEFAULT NULL

extern const pb_msgdesc_t meshtastic_HeardReport_msg;
extern const pb_msgdesc_t meshtastic_HeardAggregate_msg;
extern const pb_msgdesc_t meshtastic_HeardAssist_msg;

/* Defines for backwards compatibility with code written before nanopb-0.4.0 */
#define meshtastic_HeardReport_fields &meshtastic_HeardReport_msg
#define meshtastic_HeardAggregate_fields &meshtastic_HeardAggregate_msg
#define meshtastic_HeardAssist_fields &meshtastic_HeardAssist_msg

/* Maximum encoded size of messages (where known) */
/* meshtastic_HeardAggregate_size depends on runtime parameters */
/* meshtastic_HeardAssist_size depends on runtime parameters */
#define MESHTASTIC_MESHTASTIC_HEARD_PB_H_MAX_SIZE meshtastic_HeardReport_size
#define meshtastic_HeardReport_size              52

#ifdef __cplusplus
} /* extern "C" */
#endif

#endif
